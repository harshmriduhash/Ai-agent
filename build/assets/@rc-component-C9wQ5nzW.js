import{c as fr}from"./classnames-ELZfJkp_.js";import{r as c}from"./react-CskVYjlA.js";import{c as Or,b as ae,d as dn,u as hn,r as Lt,s as pt,e as Yt,f as mn,h as gn,i as yn,j as er,k as Ct,l as bn,g as Pt,m as wn,n as Sn}from"./rc-util-D-V1B0B9.js";import{i as en,j as rn,g as Fr,f as qr,c as At,b as x,a as qe,d as $,h as Te,_ as G,k as $t,l as Nn,e as tn}from"./@babel-CJTwEOVv.js";import{F as nn}from"./@ant-design-BaE2K3Oj.js";import{r as En}from"./react-dom-vpJdduAb.js";import{R as an}from"./rc-resize-observer-cfaxZLPN.js";import{C as on}from"./rc-motion-DwMjwbdb.js";var Mn=["b"],Cn=["v"],Et=function(e){return Math.round(Number(e||0))},Pn=function(e){if(e instanceof nn)return e;if(e&&qe(e)==="object"&&"h"in e&&"b"in e){var r=e,n=r.b,a=At(r,Mn);return x(x({},a),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},It=function(t){en(r,t);var e=rn(r);function r(n){return Fr(this,r),e.call(this,Pn(n))}return qr(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=Et(a.s*100),o=Et(a.b*100),s=Et(a.h),l=a.a,g="hsb(".concat(s,", ").concat(i,"%, ").concat(o,"%)"),m="hsba(".concat(s,", ").concat(i,"%, ").concat(o,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?g:m}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=At(a,Cn);return x(x({},o),{},{b:i,a:this.a})}}]),r}(nn),Fn=function(e){return e instanceof It?e:new It(e)};Fn("#1677ff");var sn=c.createContext(null),_t=[];function qn(t,e){var r=c.useState(function(){if(!Or())return null;var f=document.createElement("div");return f}),n=$(r,1),a=n[0],i=c.useRef(!1),o=c.useContext(sn),s=c.useState(_t),l=$(s,2),g=l[0],m=l[1],d=o||(i.current?void 0:function(f){m(function(S){var u=[f].concat(Te(S));return u})});function w(){a.parentElement||document.body.appendChild(a),i.current=!0}function h(){var f;(f=a.parentElement)===null||f===void 0||f.removeChild(a),i.current=!1}return ae(function(){return t?o?o(w):w():h(),h},[t]),ae(function(){g.length&&(g.forEach(function(f){return f()}),m(_t))},[g]),[a,d]}function xn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Dn="rc-util-locker-".concat(Date.now()),Ht=0;function kn(t){var e=!!t,r=c.useState(function(){return Ht+=1,"".concat(Dn,"_").concat(Ht)}),n=$(r,1),a=n[0];ae(function(){if(e){var i=dn(document.body).width,o=xn();hn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else Lt(a);return function(){Lt(a)}},[e,a])}var An=!1;function Tn(t){return An}var Wt=function(e){return e===!1?!1:!Or()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},un=c.forwardRef(function(t,e){var r=t.open,n=t.autoLock,a=t.getContainer;t.debug;var i=t.autoDestroy,o=i===void 0?!0:i,s=t.children,l=c.useState(r),g=$(l,2),m=g[0],d=g[1],w=m||r;c.useEffect(function(){(o||r)&&d(r)},[r,o]);var h=c.useState(function(){return Wt(a)}),f=$(h,2),S=f[0],u=f[1];c.useEffect(function(){var p=Wt(a);u(p??null)});var M=qn(w&&!S),N=$(M,2),E=N[0],F=N[1],P=S??E;kn(n&&r&&Or()&&(P===E||P===document.body));var y=null;if(s&&pt(s)&&e){var R=s;y=R.ref}var z=Yt(y,e);if(!w||!Or()||S===void 0)return null;var _=P===!1||Tn(),V=s;return e&&(V=c.cloneElement(s,{ref:z})),c.createElement(sn.Provider,{value:F},_?V:En.createPortal(V,P))});function Ft(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qt=Ft(),Rn=/%[sdj%]/g,Ln=function(){};function xt(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function ie(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(Rn,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return s}});return o}return t}function $n(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function B(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||$n(e)&&typeof t=="string"&&!t)}function In(t,e,r){var n=[],a=0,i=t.length;function o(s){n.push.apply(n,Te(s||[])),a++,a===i&&r(n)}t.forEach(function(s){e(s,o)})}function jt(t,e,r){var n=0,a=t.length;function i(o){if(o&&o.length){r(o);return}var s=n;n=n+1,s<a?e(t[s],i):r([])}i([])}function _n(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,Te(t[r]||[]))}),e}var Bt=function(t){en(r,t);var e=rn(r);function r(n,a){var i;return Fr(this,r),i=e.call(this,"Async Validation Error"),G($t(i),"errors",void 0),G($t(i),"fields",void 0),i.errors=n,i.fields=a,i}return qr(r)}(Nn(Error));function Hn(t,e,r,n,a){if(e.first){var i=new Promise(function(w,h){var f=function(M){return n(M),M.length?h(new Bt(M,xt(M))):w(a)},S=_n(t);jt(S,r,f)});return i.catch(function(w){return w}),i}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,g=0,m=[],d=new Promise(function(w,h){var f=function(u){if(m.push.apply(m,u),g++,g===l)return n(m),m.length?h(new Bt(m,xt(m))):w(a)};s.length||(n(m),w(a)),s.forEach(function(S){var u=t[S];o.indexOf(S)!==-1?jt(u,r,f):In(u,r,f)})});return d.catch(function(w){return w}),d}function Wn(t){return!!(t&&t.message!==void 0)}function jn(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function zt(t,e){return function(r){var n;return t.fullFields?n=jn(e,t.fullFields):n=e[r.field||t.fullField],Wn(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function Vt(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];qe(n)==="object"&&qe(t[r])==="object"?t[r]=x(x({},t[r]),n):t[r]=n}}return t}var sr="enum",Bn=function(e,r,n,a,i){e[sr]=Array.isArray(e[sr])?e[sr]:[],e[sr].indexOf(r)===-1&&a.push(ie(i.messages[sr],e.fullField,e[sr].join(", ")))},zn=function(e,r,n,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ie(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||a.push(ie(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Vn=function(e,r,n,a,i){var o=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,d=null,w=typeof r=="number",h=typeof r=="string",f=Array.isArray(r);if(w?d="number":h?d="string":f&&(d="array"),!d)return!1;f&&(m=r.length),h&&(m=r.replace(g,"_").length),o?m!==e.len&&a.push(ie(i.messages[d].len,e.fullField,e.len)):s&&!l&&m<e.min?a.push(ie(i.messages[d].min,e.fullField,e.min)):l&&!s&&m>e.max?a.push(ie(i.messages[d].max,e.fullField,e.max)):s&&l&&(m<e.min||m>e.max)&&a.push(ie(i.messages[d].range,e.fullField,e.min,e.max))},fn=function(e,r,n,a,i,o){e.required&&(!n.hasOwnProperty(e.field)||B(r,o||e.type))&&a.push(ie(i.messages.required,e.fullField))},Kr;const Gn=function(){if(Kr)return Kr;var t="[a-fA-F\\d:]",e=function(y){return y&&y.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),s=new RegExp("(?:^".concat(r,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(r,"$")),g=new RegExp("^".concat(o,"$")),m=function(y){return y&&y.exact?s:new RegExp("(?:".concat(e(y)).concat(r).concat(e(y),")|(?:").concat(e(y)).concat(o).concat(e(y),")"),"g")};m.v4=function(P){return P&&P.exact?l:new RegExp("".concat(e(P)).concat(r).concat(e(P)),"g")},m.v6=function(P){return P&&P.exact?g:new RegExp("".concat(e(P)).concat(o).concat(e(P)),"g")};var d="(?:(?:[a-z]+:)?//)",w="(?:\\S+(?::\\S*)?@)?",h=m.v4().source,f=m.v6().source,S="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",u="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",M="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",N="(?::\\d{2,5})?",E='(?:[/?#][^\\s"]*)?',F="(?:".concat(d,"|www\\.)").concat(w,"(?:localhost|").concat(h,"|").concat(f,"|").concat(S).concat(u).concat(M,")").concat(N).concat(E);return Kr=new RegExp("(?:^".concat(F,"$)"),"i"),Kr};var Gt={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Nr={integer:function(e){return Nr.number(e)&&parseInt(e,10)===e},float:function(e){return Nr.number(e)&&!Nr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return qe(e)==="object"&&!Nr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Gt.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Gn())},hex:function(e){return typeof e=="string"&&!!e.match(Gt.hex)}},Un=function(e,r,n,a,i){if(e.required&&r===void 0){fn(e,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?Nr[s](r)||a.push(ie(i.messages.types[s],e.fullField,e.type)):s&&qe(r)!==e.type&&a.push(ie(i.messages.types[s],e.fullField,e.type))},Jn=function(e,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(ie(i.messages.whitespace,e.fullField))};const C={required:fn,whitespace:Jn,type:Un,range:Vn,enum:Bn,pattern:zn};var Qn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i)}n(o)},Zn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r==null&&!e.required)return n();C.required(e,r,a,o,i,"array"),r!=null&&(C.type(e,r,a,o,i),C.range(e,r,a,o,i))}n(o)},Kn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&C.type(e,r,a,o,i)}n(o)},On=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"date")&&!e.required)return n();if(C.required(e,r,a,o,i),!B(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),C.type(e,l,a,o,i),l&&C.range(e,l.getTime(),a,o,i)}}n(o)},Xn="enum",pn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&C[Xn](e,r,a,o,i)}n(o)},Yn=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&(C.type(e,r,a,o,i),C.range(e,r,a,o,i))}n(o)},ea=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&(C.type(e,r,a,o,i),C.range(e,r,a,o,i))}n(o)},ra=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&C.type(e,r,a,o,i)}n(o)},ta=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r===""&&(r=void 0),B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&(C.type(e,r,a,o,i),C.range(e,r,a,o,i))}n(o)},na=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),r!==void 0&&C.type(e,r,a,o,i)}n(o)},aa=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"string")&&!e.required)return n();C.required(e,r,a,o,i),B(r,"string")||C.pattern(e,r,a,o,i)}n(o)},ia=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return n();C.required(e,r,a,o,i),B(r)||C.type(e,r,a,o,i)}n(o)},oa=function(e,r,n,a,i){var o=[],s=Array.isArray(r)?"array":qe(r);C.required(e,r,a,o,i,s),n(o)},sa=function(e,r,n,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"string")&&!e.required)return n();C.required(e,r,a,o,i,"string"),B(r,"string")||(C.type(e,r,a,o,i),C.range(e,r,a,o,i),C.pattern(e,r,a,o,i),e.whitespace===!0&&C.whitespace(e,r,a,o,i))}n(o)},Mt=function(e,r,n,a,i){var o=e.type,s=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(B(r,o)&&!e.required)return n();C.required(e,r,a,s,i,o),B(r,o)||C.type(e,r,a,s,i)}n(s)};const Mr={string:sa,method:ra,number:ta,boolean:Kn,regexp:ia,integer:ea,float:Yn,array:Zn,object:na,enum:pn,pattern:aa,date:On,url:Mt,hex:Mt,email:Mt,required:oa,any:Qn};var Xr=function(){function t(e){Fr(this,t),G(this,"rules",null),G(this,"_messages",qt),this.define(e)}return qr(t,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(qe(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Vt(Ft(),r)),this._messages}},{key:"validate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=r,s=a,l=i;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function g(f){var S=[],u={};function M(E){if(Array.isArray(E)){var F;S=(F=S).concat.apply(F,Te(E))}else S.push(E)}for(var N=0;N<f.length;N++)M(f[N]);S.length?(u=xt(S),l(S,u)):l(null,o)}if(s.messages){var m=this.messages();m===qt&&(m=Ft()),Vt(m,s.messages),s.messages=m}else s.messages=this.messages();var d={},w=s.keys||Object.keys(this.rules);w.forEach(function(f){var S=n.rules[f],u=o[f];S.forEach(function(M){var N=M;typeof N.transform=="function"&&(o===r&&(o=x({},o)),u=o[f]=N.transform(u),u!=null&&(N.type=N.type||(Array.isArray(u)?"array":qe(u)))),typeof N=="function"?N={validator:N}:N=x({},N),N.validator=n.getValidationMethod(N),N.validator&&(N.field=f,N.fullField=N.fullField||f,N.type=n.getType(N),d[f]=d[f]||[],d[f].push({rule:N,value:u,source:o,field:f}))})});var h={};return Hn(d,s,function(f,S){var u=f.rule,M=(u.type==="object"||u.type==="array")&&(qe(u.fields)==="object"||qe(u.defaultField)==="object");M=M&&(u.required||!u.required&&f.value),u.field=f.field;function N(R,z){return x(x({},z),{},{fullField:"".concat(u.fullField,".").concat(R),fullFields:u.fullFields?[].concat(Te(u.fullFields),[R]):[R]})}function E(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=Array.isArray(R)?R:[R];!s.suppressWarning&&z.length&&t.warning("async-validator:",z),z.length&&u.message!==void 0&&(z=[].concat(u.message));var _=z.map(zt(u,o));if(s.first&&_.length)return h[u.field]=1,S(_);if(!M)S(_);else{if(u.required&&!f.value)return u.message!==void 0?_=[].concat(u.message).map(zt(u,o)):s.error&&(_=[s.error(u,ie(s.messages.required,u.field))]),S(_);var V={};u.defaultField&&Object.keys(f.value).map(function(W){V[W]=u.defaultField}),V=x(x({},V),f.rule.fields);var p={};Object.keys(V).forEach(function(W){var H=V[W],de=Array.isArray(H)?H:[H];p[W]=de.map(N.bind(null,W))});var oe=new t(p);oe.messages(s.messages),f.rule.options&&(f.rule.options.messages=s.messages,f.rule.options.error=s.error),oe.validate(f.value,f.rule.options||s,function(W){var H=[];_&&_.length&&H.push.apply(H,Te(_)),W&&W.length&&H.push.apply(H,Te(W)),S(H.length?H:null)})}}var F;if(u.asyncValidator)F=u.asyncValidator(u,f.value,E,f.source,s);else if(u.validator){try{F=u.validator(u,f.value,E,f.source,s)}catch(R){var P,y;(P=(y=console).error)===null||P===void 0||P.call(y,R),s.suppressValidatorError||setTimeout(function(){throw R},0),E(R.message)}F===!0?E():F===!1?E(typeof u.message=="function"?u.message(u.fullField||u.field):u.message||"".concat(u.fullField||u.field," fails")):F instanceof Array?E(F):F instanceof Error&&E(F.message)}F&&F.then&&F.then(function(){return E()},function(R){return E(R)})},function(f){g(f)},o)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Mr.hasOwnProperty(r.type))throw new Error(ie("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Mr.required:Mr[this.getType(r)]||void 0}}]),t}();G(Xr,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mr[e]=r});G(Xr,"warning",Ln);G(Xr,"messages",qt);G(Xr,"validators",Mr);function ua(t){var e=t.prefixCls,r=t.align,n=t.arrow,a=t.arrowPos,i=n||{},o=i.className,s=i.content,l=a.x,g=l===void 0?0:l,m=a.y,d=m===void 0?0:m,w=c.useRef();if(!r||!r.points)return null;var h={position:"absolute"};if(r.autoArrow!==!1){var f=r.points[0],S=r.points[1],u=f[0],M=f[1],N=S[0],E=S[1];u===N||!["t","b"].includes(u)?h.top=d:u==="t"?h.top=0:h.bottom=0,M===E||!["l","r"].includes(M)?h.left=g:M==="l"?h.left=0:h.right=0}return c.createElement("div",{ref:w,className:fr("".concat(e,"-arrow"),o),style:h},s)}function fa(t){var e=t.prefixCls,r=t.open,n=t.zIndex,a=t.mask,i=t.motion;return a?c.createElement(on,tn({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(o){var s=o.className;return c.createElement("div",{style:{zIndex:n},className:fr("".concat(e,"-mask"),s)})}):null}var ca=c.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),la=c.forwardRef(function(t,e){var r=t.popup,n=t.className,a=t.prefixCls,i=t.style,o=t.target,s=t.onVisibleChanged,l=t.open,g=t.keepDom,m=t.fresh,d=t.onClick,w=t.mask,h=t.arrow,f=t.arrowPos,S=t.align,u=t.motion,M=t.maskMotion,N=t.forceRender,E=t.getPopupContainer,F=t.autoDestroy,P=t.portal,y=t.zIndex,R=t.onMouseEnter,z=t.onMouseLeave,_=t.onPointerEnter,V=t.onPointerDownCapture,p=t.ready,oe=t.offsetX,W=t.offsetY,H=t.offsetR,de=t.offsetB,ee=t.onAlign,xe=t.onPrepare,J=t.stretch,Z=t.targetWidth,q=t.targetHeight,ze=typeof r=="function"?r():r,he=l||g,Q=(E==null?void 0:E.length)>0,D=c.useState(!E||!Q),re=$(D,2),Ve=re[0],cr=re[1];if(ae(function(){!Ve&&Q&&o&&cr(!0)},[Ve,Q,o]),!Ve)return null;var Se="auto",te={left:"-1000vw",top:"-1000vh",right:Se,bottom:Se};if(p||!l){var Re,Ge=S.points,se=S.dynamicInset||((Re=S._experimental)===null||Re===void 0?void 0:Re.dynamicInset),Ne=se&&Ge[0][1]==="r",me=se&&Ge[0][0]==="b";Ne?(te.right=H,te.left=Se):(te.left=oe,te.right=Se),me?(te.bottom=de,te.top=Se):(te.top=W,te.bottom=Se)}var Y={};return J&&(J.includes("height")&&q?Y.height=q:J.includes("minHeight")&&q&&(Y.minHeight=q),J.includes("width")&&Z?Y.width=Z:J.includes("minWidth")&&Z&&(Y.minWidth=Z)),l||(Y.pointerEvents="none"),c.createElement(P,{open:N||he,getContainer:E&&function(){return E(o)},autoDestroy:F},c.createElement(fa,{prefixCls:a,open:l,zIndex:y,mask:w,motion:M}),c.createElement(an,{onResize:ee,disabled:!l},function(lr){return c.createElement(on,tn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:N,leavedClassName:"".concat(a,"-hidden")},u,{onAppearPrepare:xe,onEnterPrepare:xe,visible:l,onVisibleChanged:function(ue){var Ee;u==null||(Ee=u.onVisibleChanged)===null||Ee===void 0||Ee.call(u,ue),s(ue)}}),function(Le,ue){var Ee=Le.className,Ue=Le.style,K=fr(a,Ee,n);return c.createElement("div",{ref:mn(lr,e,ue),className:K,style:x(x(x(x({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},te),Y),Ue),{},{boxSizing:"border-box",zIndex:y},i),onMouseEnter:R,onMouseLeave:z,onPointerEnter:_,onClick:d,onPointerDownCapture:V},h&&c.createElement(ua,{prefixCls:a,arrow:h,arrowPos:f,align:S}),c.createElement(ca,{cache:!l&&!m},ze))})}))}),va=c.forwardRef(function(t,e){var r=t.children,n=t.getTriggerDOMNode,a=pt(r),i=c.useCallback(function(s){gn(e,n?n(s):s)},[n]),o=Yt(i,yn(r));return a?c.cloneElement(r,{ref:o}):r}),Ut=c.createContext(null);function Jt(t){return t?Array.isArray(t)?t:[t]:[]}function da(t,e,r,n){return c.useMemo(function(){var a=Jt(r??e),i=Jt(n??e),o=new Set(a),s=new Set(i);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[t,e,r,n])}function ha(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function ma(t,e,r,n){for(var a=r.points,i=Object.keys(t),o=0;o<i.length;o+=1){var s,l=i[o];if(ha((s=t[l])===null||s===void 0?void 0:s.points,a,n))return"".concat(e,"-placement-").concat(l)}return""}function Qt(t,e,r,n){return e||(r?{motionName:"".concat(t,"-").concat(r)}:n?{motionName:n}:null)}function xr(t){return t.ownerDocument.defaultView}function Dt(t){for(var e=[],r=t==null?void 0:t.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=xr(r).getComputedStyle(r),i=a.overflowX,o=a.overflowY,s=a.overflow;[i,o,s].some(function(l){return n.includes(l)})&&e.push(r),r=r.parentElement}return e}function Pr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Sr(t){return Pr(parseFloat(t),0)}function Zt(t,e){var r=x({},t);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=xr(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,s=a.borderTopWidth,l=a.borderBottomWidth,g=a.borderLeftWidth,m=a.borderRightWidth,d=n.getBoundingClientRect(),w=n.offsetHeight,h=n.clientHeight,f=n.offsetWidth,S=n.clientWidth,u=Sr(s),M=Sr(l),N=Sr(g),E=Sr(m),F=Pr(Math.round(d.width/f*1e3)/1e3),P=Pr(Math.round(d.height/w*1e3)/1e3),y=(f-S-N-E)*F,R=(w-h-u-M)*P,z=u*P,_=M*P,V=N*F,p=E*F,oe=0,W=0;if(i==="clip"){var H=Sr(o);oe=H*F,W=H*P}var de=d.x+V-oe,ee=d.y+z-W,xe=de+d.width+2*oe-V-p-y,J=ee+d.height+2*W-z-_-R;r.left=Math.max(r.left,de),r.top=Math.max(r.top,ee),r.right=Math.min(r.right,xe),r.bottom=Math.min(r.bottom,J)}}),r}function Kt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),n=r.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(r)}function Ot(t,e){var r=e||[],n=$(r,2),a=n[0],i=n[1];return[Kt(t.width,a),Kt(t.height,i)]}function Xt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function ur(t,e){var r=e[0],n=e[1],a,i;return r==="t"?i=t.y:r==="b"?i=t.y+t.height:i=t.y+t.height/2,n==="l"?a=t.x:n==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:i}}function Be(t,e){var r={t:"b",b:"t",l:"r",r:"l"};return t.map(function(n,a){return a===e?r[n]||"c":n}).join("")}function ga(t,e,r,n,a,i,o){var s=c.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),l=$(s,2),g=l[0],m=l[1],d=c.useRef(0),w=c.useMemo(function(){return e?Dt(e):[]},[e]),h=c.useRef({}),f=function(){h.current={}};t||f();var S=er(function(){if(e&&r&&t){let ve=function(or,We){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dr,wr=D.x+or,Jr=D.y+We,bt=wr+Ne,wt=Jr+se,St=Math.max(wr,je.left),v=Math.max(Jr,je.top),b=Math.min(bt,je.right),L=Math.min(wt,je.bottom);return Math.max(0,(b-St)*(L-v))},Ur=function(){Ke=D.y+T,Oe=Ke+se,ke=D.x+k,tr=ke+Ne};var N,E,F,P,y=e,R=y.ownerDocument,z=xr(y),_=z.getComputedStyle(y),V=_.width,p=_.height,oe=_.position,W=y.style.left,H=y.style.top,de=y.style.right,ee=y.style.bottom,xe=y.style.overflow,J=x(x({},a[n]),i),Z=R.createElement("div");(N=y.parentElement)===null||N===void 0||N.appendChild(Z),Z.style.left="".concat(y.offsetLeft,"px"),Z.style.top="".concat(y.offsetTop,"px"),Z.style.position=oe,Z.style.height="".concat(y.offsetHeight,"px"),Z.style.width="".concat(y.offsetWidth,"px"),y.style.left="0",y.style.top="0",y.style.right="auto",y.style.bottom="auto",y.style.overflow="hidden";var q;if(Array.isArray(r))q={x:r[0],y:r[1],width:0,height:0};else{var ze,he,Q=r.getBoundingClientRect();Q.x=(ze=Q.x)!==null&&ze!==void 0?ze:Q.left,Q.y=(he=Q.y)!==null&&he!==void 0?he:Q.top,q={x:Q.x,y:Q.y,width:Q.width,height:Q.height}}var D=y.getBoundingClientRect();D.x=(E=D.x)!==null&&E!==void 0?E:D.left,D.y=(F=D.y)!==null&&F!==void 0?F:D.top;var re=R.documentElement,Ve=re.clientWidth,cr=re.clientHeight,Se=re.scrollWidth,te=re.scrollHeight,Re=re.scrollTop,Ge=re.scrollLeft,se=D.height,Ne=D.width,me=q.height,Y=q.width,lr={left:0,top:0,right:Ve,bottom:cr},Le={left:-Ge,top:-Re,right:Se-Ge,bottom:te-Re},ue=J.htmlRegion,Ee="visible",Ue="visibleFirst";ue!=="scroll"&&ue!==Ue&&(ue=Ee);var K=ue===Ue,pr=Zt(Le,w),A=Zt(lr,w),Dr=ue===Ee?A:pr,Je=K?A:Dr;y.style.left="auto",y.style.top="auto",y.style.right="0",y.style.bottom="0";var O=y.getBoundingClientRect();y.style.left=W,y.style.top=H,y.style.right=de,y.style.bottom=ee,y.style.overflow=xe,(P=y.parentElement)===null||P===void 0||P.removeChild(Z);var $e=Pr(Math.round(Ne/parseFloat(V)*1e3)/1e3),De=Pr(Math.round(se/parseFloat(p)*1e3)/1e3);if($e===0||De===0||Ct(r)&&!bn(r))return;var Yr=J.offset,et=J.targetOffset,kr=Ot(D,Yr),ge=$(kr,2),ye=ge[0],fe=ge[1],rt=Ot(q,et),Qe=$(rt,2),ce=Qe[0],Ie=Qe[1];q.x-=ce,q.y-=Ie;var tt=J.points||[],Ar=$(tt,2),nt=Ar[0],at=Ar[1],Me=Xt(at),ne=Xt(nt),vr=ur(q,Me),X=ur(D,ne),_e=x({},J),k=vr.x-X.x+ye,T=vr.y-X.y+fe,be=ve(k,T),Ze=ve(k,T,A),dr=ur(q,["t","l"]),le=ur(D,["t","l"]),Tr=ur(q,["b","r"]),hr=ur(D,["b","r"]),He=J.overflow||{},Rr=He.adjustX,it=He.adjustY,mr=He.shiftX,rr=He.shiftY,gr=function(We){return typeof We=="boolean"?We:We>=0},Ke,Oe,ke,tr;Ur();var Xe=gr(it),Lr=ne[0]===Me[0];if(Xe&&ne[0]==="t"&&(Oe>Je.bottom||h.current.bt)){var U=T;Lr?U-=se-me:U=dr.y-hr.y-fe;var $r=ve(k,U),ot=ve(k,U,A);$r>be||$r===be&&(!K||ot>=Ze)?(h.current.bt=!0,T=U,fe=-fe,_e.points=[Be(ne,0),Be(Me,0)]):h.current.bt=!1}if(Xe&&ne[0]==="b"&&(Ke<Je.top||h.current.tb)){var pe=T;Lr?pe+=se-me:pe=Tr.y-le.y-fe;var Ir=ve(k,pe),st=ve(k,pe,A);Ir>be||Ir===be&&(!K||st>=Ze)?(h.current.tb=!0,T=pe,fe=-fe,_e.points=[Be(ne,0),Be(Me,0)]):h.current.tb=!1}var _r=gr(Rr),Hr=ne[1]===Me[1];if(_r&&ne[1]==="l"&&(tr>Je.right||h.current.rl)){var Ye=k;Hr?Ye-=Ne-Y:Ye=dr.x-hr.x-ye;var Wr=ve(Ye,T),nr=ve(Ye,T,A);Wr>be||Wr===be&&(!K||nr>=Ze)?(h.current.rl=!0,k=Ye,ye=-ye,_e.points=[Be(ne,1),Be(Me,1)]):h.current.rl=!1}if(_r&&ne[1]==="r"&&(ke<Je.left||h.current.lr)){var Ae=k;Hr?Ae+=Ne-Y:Ae=Tr.x-le.x-ye;var jr=ve(Ae,T),Br=ve(Ae,T,A);jr>be||jr===be&&(!K||Br>=Ze)?(h.current.lr=!0,k=Ae,ye=-ye,_e.points=[Be(ne,1),Be(Me,1)]):h.current.lr=!1}Ur();var Ce=mr===!0?0:mr;typeof Ce=="number"&&(ke<A.left&&(k-=ke-A.left-ye,q.x+Y<A.left+Ce&&(k+=q.x-A.left+Y-Ce)),tr>A.right&&(k-=tr-A.right-ye,q.x>A.right-Ce&&(k+=q.x-A.right+Ce)));var we=rr===!0?0:rr;typeof we=="number"&&(Ke<A.top&&(T-=Ke-A.top-fe,q.y+me<A.top+we&&(T+=q.y-A.top+me-we)),Oe>A.bottom&&(T-=Oe-A.bottom-fe,q.y>A.bottom-we&&(T+=q.y-A.bottom+we)));var ar=D.x+k,ir=ar+Ne,Pe=D.y+T,ut=Pe+se,zr=q.x,ft=zr+Y,yr=q.y,ct=yr+me,lt=Math.max(ar,zr),vt=Math.min(ir,ft),Vr=(lt+vt)/2,dt=Vr-ar,ht=Math.max(Pe,yr),Gr=Math.min(ut,ct),mt=(ht+Gr)/2,gt=mt-Pe;o==null||o(e,_e);var br=O.right-D.x-(k+D.width),Fe=O.bottom-D.y-(T+D.height);$e===1&&(k=Math.round(k),br=Math.round(br)),De===1&&(T=Math.round(T),Fe=Math.round(Fe));var yt={ready:!0,offsetX:k/$e,offsetY:T/De,offsetR:br/$e,offsetB:Fe/De,arrowX:dt/$e,arrowY:gt/De,scaleX:$e,scaleY:De,align:_e};m(yt)}}),u=function(){d.current+=1;var E=d.current;Promise.resolve().then(function(){d.current===E&&S()})},M=function(){m(function(E){return x(x({},E),{},{ready:!1})})};return ae(M,[n]),ae(function(){t||M()},[t]),[g.ready,g.offsetX,g.offsetY,g.offsetR,g.offsetB,g.arrowX,g.arrowY,g.scaleX,g.scaleY,g.align,u]}function ya(t,e,r,n,a){ae(function(){if(t&&e&&r){let d=function(){n(),a()};var i=e,o=r,s=Dt(i),l=Dt(o),g=xr(o),m=new Set([g].concat(Te(s),Te(l)));return m.forEach(function(w){w.addEventListener("scroll",d,{passive:!0})}),g.addEventListener("resize",d,{passive:!0}),n(),function(){m.forEach(function(w){w.removeEventListener("scroll",d),g.removeEventListener("resize",d)})}}},[t,e,r])}function ba(t,e,r,n,a,i,o,s){var l=c.useRef(t);l.current=t;var g=c.useRef(!1);c.useEffect(function(){if(e&&n&&(!a||i)){var d=function(){g.current=!1},w=function(u){var M;l.current&&!o(((M=u.composedPath)===null||M===void 0||(M=M.call(u))===null||M===void 0?void 0:M[0])||u.target)&&!g.current&&s(!1)},h=xr(n);h.addEventListener("pointerdown",d,!0),h.addEventListener("mousedown",w,!0),h.addEventListener("contextmenu",w,!0);var f=Pt(r);return f&&(f.addEventListener("mousedown",w,!0),f.addEventListener("contextmenu",w,!0)),function(){h.removeEventListener("pointerdown",d,!0),h.removeEventListener("mousedown",w,!0),h.removeEventListener("contextmenu",w,!0),f&&(f.removeEventListener("mousedown",w,!0),f.removeEventListener("contextmenu",w,!0))}}},[e,r,n,a,i]);function m(){g.current=!0}return m}var wa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Sa(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:un,e=c.forwardRef(function(r,n){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=r.children,s=r.action,l=s===void 0?"hover":s,g=r.showAction,m=r.hideAction,d=r.popupVisible,w=r.defaultPopupVisible,h=r.onPopupVisibleChange,f=r.afterPopupVisibleChange,S=r.mouseEnterDelay,u=r.mouseLeaveDelay,M=u===void 0?.1:u,N=r.focusDelay,E=r.blurDelay,F=r.mask,P=r.maskClosable,y=P===void 0?!0:P,R=r.getPopupContainer,z=r.forceRender,_=r.autoDestroy,V=r.destroyPopupOnHide,p=r.popup,oe=r.popupClassName,W=r.popupStyle,H=r.popupPlacement,de=r.builtinPlacements,ee=de===void 0?{}:de,xe=r.popupAlign,J=r.zIndex,Z=r.stretch,q=r.getPopupClassNameFromAlign,ze=r.fresh,he=r.alignPoint,Q=r.onPopupClick,D=r.onPopupAlign,re=r.arrow,Ve=r.popupMotion,cr=r.maskMotion,Se=r.popupTransitionName,te=r.popupAnimation,Re=r.maskTransitionName,Ge=r.maskAnimation,se=r.className,Ne=r.getTriggerDOMNode,me=At(r,wa),Y=_||V||!1,lr=c.useState(!1),Le=$(lr,2),ue=Le[0],Ee=Le[1];ae(function(){Ee(wn())},[]);var Ue=c.useRef({}),K=c.useContext(Ut),pr=c.useMemo(function(){return{registerSubPopup:function(b,L){Ue.current[b]=L,K==null||K.registerSubPopup(b,L)}}},[K]),A=Sn(),Dr=c.useState(null),Je=$(Dr,2),O=Je[0],$e=Je[1],De=c.useRef(null),Yr=er(function(v){De.current=v,Ct(v)&&O!==v&&$e(v),K==null||K.registerSubPopup(A,v)}),et=c.useState(null),kr=$(et,2),ge=kr[0],ye=kr[1],fe=c.useRef(null),rt=er(function(v){Ct(v)&&ge!==v&&(ye(v),fe.current=v)}),Qe=c.Children.only(o),ce=(Qe==null?void 0:Qe.props)||{},Ie={},tt=er(function(v){var b,L,j=ge;return(j==null?void 0:j.contains(v))||((b=Pt(j))===null||b===void 0?void 0:b.host)===v||v===j||(O==null?void 0:O.contains(v))||((L=Pt(O))===null||L===void 0?void 0:L.host)===v||v===O||Object.values(Ue.current).some(function(I){return(I==null?void 0:I.contains(v))||v===I})}),Ar=Qt(i,Ve,te,Se),nt=Qt(i,cr,Ge,Re),at=c.useState(w||!1),Me=$(at,2),ne=Me[0],vr=Me[1],X=d??ne,_e=er(function(v){d===void 0&&vr(v)});ae(function(){vr(d||!1)},[d]);var k=c.useRef(X);k.current=X;var T=c.useRef([]);T.current=[];var be=er(function(v){var b;_e(v),((b=T.current[T.current.length-1])!==null&&b!==void 0?b:X)!==v&&(T.current.push(v),h==null||h(v))}),Ze=c.useRef(),dr=function(){clearTimeout(Ze.current)},le=function(b){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;dr(),L===0?be(b):Ze.current=setTimeout(function(){be(b)},L*1e3)};c.useEffect(function(){return dr},[]);var Tr=c.useState(!1),hr=$(Tr,2),He=hr[0],Rr=hr[1];ae(function(v){(!v||X)&&Rr(!0)},[X]);var it=c.useState(null),mr=$(it,2),rr=mr[0],gr=mr[1],Ke=c.useState(null),Oe=$(Ke,2),ke=Oe[0],tr=Oe[1],Xe=function(b){tr([b.clientX,b.clientY])},Lr=ga(X,O,he&&ke!==null?ke:ge,H,ee,xe,D),U=$(Lr,11),$r=U[0],ot=U[1],pe=U[2],Ir=U[3],st=U[4],_r=U[5],Hr=U[6],Ye=U[7],Wr=U[8],nr=U[9],Ae=U[10],jr=da(ue,l,g,m),Br=$(jr,2),Ce=Br[0],we=Br[1],ar=Ce.has("click"),ir=we.has("click")||we.has("contextMenu"),Pe=er(function(){He||Ae()}),ut=function(){k.current&&he&&ir&&le(!1)};ya(X,ge,O,Pe,ut),ae(function(){Pe()},[ke,H]),ae(function(){X&&!(ee!=null&&ee[H])&&Pe()},[JSON.stringify(xe)]);var zr=c.useMemo(function(){var v=ma(ee,i,nr,he);return fr(v,q==null?void 0:q(nr))},[nr,q,ee,i,he]);c.useImperativeHandle(n,function(){return{nativeElement:fe.current,popupElement:De.current,forceAlign:Pe}});var ft=c.useState(0),yr=$(ft,2),ct=yr[0],lt=yr[1],vt=c.useState(0),Vr=$(vt,2),dt=Vr[0],ht=Vr[1],Gr=function(){if(Z&&ge){var b=ge.getBoundingClientRect();lt(b.width),ht(b.height)}},mt=function(){Gr(),Pe()},gt=function(b){Rr(!1),Ae(),f==null||f(b)},br=function(){return new Promise(function(b){Gr(),gr(function(){return b})})};ae(function(){rr&&(Ae(),rr(),gr(null))},[rr]);function Fe(v,b,L,j){Ie[v]=function(I){var Qr;j==null||j(I),le(b,L);for(var Nt=arguments.length,Rt=new Array(Nt>1?Nt-1:0),Zr=1;Zr<Nt;Zr++)Rt[Zr-1]=arguments[Zr];(Qr=ce[v])===null||Qr===void 0||Qr.call.apply(Qr,[ce,I].concat(Rt))}}(ar||ir)&&(Ie.onClick=function(v){var b;k.current&&ir?le(!1):!k.current&&ar&&(Xe(v),le(!0));for(var L=arguments.length,j=new Array(L>1?L-1:0),I=1;I<L;I++)j[I-1]=arguments[I];(b=ce.onClick)===null||b===void 0||b.call.apply(b,[ce,v].concat(j))});var yt=ba(X,ir,ge,O,F,y,tt,le),ve=Ce.has("hover"),Ur=we.has("hover"),or,We;ve&&(Fe("onMouseEnter",!0,S,function(v){Xe(v)}),Fe("onPointerEnter",!0,S,function(v){Xe(v)}),or=function(b){(X||He)&&O!==null&&O!==void 0&&O.contains(b.target)&&le(!0,S)},he&&(Ie.onMouseMove=function(v){var b;(b=ce.onMouseMove)===null||b===void 0||b.call(ce,v)})),Ur&&(Fe("onMouseLeave",!1,M),Fe("onPointerLeave",!1,M),We=function(){le(!1,M)}),Ce.has("focus")&&Fe("onFocus",!0,N),we.has("focus")&&Fe("onBlur",!1,E),Ce.has("contextMenu")&&(Ie.onContextMenu=function(v){var b;k.current&&we.has("contextMenu")?le(!1):(Xe(v),le(!0)),v.preventDefault();for(var L=arguments.length,j=new Array(L>1?L-1:0),I=1;I<L;I++)j[I-1]=arguments[I];(b=ce.onContextMenu)===null||b===void 0||b.call.apply(b,[ce,v].concat(j))}),se&&(Ie.className=fr(ce.className,se));var je=x(x({},ce),Ie),wr={},Jr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Jr.forEach(function(v){me[v]&&(wr[v]=function(){for(var b,L=arguments.length,j=new Array(L),I=0;I<L;I++)j[I]=arguments[I];(b=je[v])===null||b===void 0||b.call.apply(b,[je].concat(j)),me[v].apply(me,j)})});var bt=c.cloneElement(Qe,x(x({},je),wr)),wt={x:_r,y:Hr},St=re?x({},re!==!0?re:{}):null;return c.createElement(c.Fragment,null,c.createElement(an,{disabled:!X,ref:rt,onResize:mt},c.createElement(va,{getTriggerDOMNode:Ne},bt)),c.createElement(Ut.Provider,{value:pr},c.createElement(la,{portal:t,ref:Yr,prefixCls:i,popup:p,className:fr(oe,zr),style:W,target:ge,onMouseEnter:or,onMouseLeave:We,onPointerEnter:or,zIndex:J,open:X,keepDom:He,fresh:ze,onClick:Q,onPointerDownCapture:yt,mask:F,motion:Ar,maskMotion:nt,onVisibleChanged:gt,onPrepare:br,forceRender:z,autoDestroy:Y,getPopupContainer:R,align:nr,arrow:St,arrowPos:wt,ready:$r,offsetX:ot,offsetY:pe,offsetR:Ir,offsetB:st,onAlign:Pe,stretch:Z,targetWidth:ct/Ye,targetHeight:dt/Wr})))});return e}const Ra=Sa(un);function kt(){return typeof BigInt=="function"}function cn(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function Cr(t){var e=t.trim(),r=e.startsWith("-");r&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",a=n.split("."),i=a[0]||"0",o=a[1]||"0";i==="0"&&o==="0"&&(r=!1);var s=r?"-":"";return{negative:r,negativeStr:s,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(s).concat(n)}}function Tt(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function Er(t){var e=String(t);if(Tt(t)){var r=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return e.includes(".")&&vn(e)?e.length-e.indexOf(".")-1:0}function ln(t){var e=String(t);if(Tt(t)){if(t>Number.MAX_SAFE_INTEGER)return String(kt()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(kt()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(Er(e))}return Cr(e).fullStr}function vn(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var Na=function(){function t(e){if(Fr(this,t),G(this,"origin",""),G(this,"negative",void 0),G(this,"integer",void 0),G(this,"decimal",void 0),G(this,"decimalLen",void 0),G(this,"empty",void 0),G(this,"nan",void 0),cn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var r=e;if(Tt(r)&&(r=Number(r)),r=typeof r=="string"?r:ln(r),vn(r)){var n=Cr(r);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return qr(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new t(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,a){var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),s=r.alignDecimal(i),l=n(o,s).toString(),g=a(i),m=Cr(l),d=m.negativeStr,w=m.trimStr,h="".concat(d).concat(w.padStart(g+1,"0"));return new t("".concat(h.slice(0,-g),".").concat(h.slice(-g)))}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=new t(r);return n.isInvalidate()?this:this.cal(n,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(r){var n=new t(r);return this.isInvalidate()||n.isInvalidate()?new t(NaN):this.cal(n,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":Cr("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),Ea=function(){function t(e){if(Fr(this,t),G(this,"origin",""),G(this,"number",void 0),G(this,"empty",void 0),cn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return qr(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=Number(r);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(Er(this.number),Er(n));return new t(a.toFixed(i))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new t(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(Er(this.number),Er(n));return new t(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":ln(this.number):this.origin}}]),t}();function Ma(t){return kt()?new Na(t):new Ea(t)}function Ca(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var a=Cr(t),i=a.negativeStr,o=a.integerStr,s=a.decimalStr,l="".concat(e).concat(s),g="".concat(i).concat(o);if(r>=0){var m=Number(s[r]);if(m>=5&&!n){var d=Ma(t).add("".concat(i,"0.").concat("0".repeat(r)).concat(10-m));return Ca(d.toString(),e,r,n)}return r===0?g:"".concat(g).concat(e).concat(s.padEnd(r,"0").slice(0,r))}return l===".0"?g:"".concat(g).concat(l)}export{It as C,un as P,Xr as S,Ra as T,Er as a,Ca as b,Ma as g,ln as n,Cr as t,vn as v};
//# sourceMappingURL=@rc-component-C9wQ5nzW.js.map
